<div class="sidebar">
  <div class="header">
    <h3>GESCOMPAH</h3>
    <p>Palermo Locales</p>
  </div>

  <div class="menu">
    <mat-nav-list>
      <mat-expansion-panel 
        class="py-2" 
        *ngFor="let item of menu; let i = index"
        [expanded]="expandedIndex === i"
        (opened)="expandedIndex = i"
        (closed)="expandedIndex = -1"
      >
        <mat-expansion-panel-header>
          <mat-icon>{{ item.icon }}</mat-icon>
          <span>{{ item.label }}</span>
        </mat-expansion-panel-header>

        <ng-container *ngIf="item.children?.length">
          <a mat-list-item *ngFor="let child of item.children" [routerLink]="child.route">
            <mat-icon>{{ child.icon || 'chevron_right' }}</mat-icon>
            <span>{{ child.label }}</span>
          </a>
        </ng-container>
      </mat-expansion-panel>
    </mat-nav-list>
  </div>

  <div class="logout" (click)="cerrarSesion()">
    <mat-icon>logout</mat-icon> Cerrar Sesi√≥n
  </div>
</div>