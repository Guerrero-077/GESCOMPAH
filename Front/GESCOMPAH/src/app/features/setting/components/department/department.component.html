<div class="container mt-4">

  <!-- Tabla de departamentos -->
  <app-generic-table
    [columns]="columns"
    [data]="departments$ | async"
    [showActionsColumn]="false"
    (edit)="openEditDialog($event)"
    (delete)="handleDelete($event)"
    (create)="openCreateDialog()"
    />


  <ng-template #estadoTemplate let-row>
    <div class="d-inline-flex align-items-center gap-3 flex-nowrap">
      <span class="badge align-middle" [ngClass]="row.active ? 'badge-success' : 'badge-secondary'">
        {{ row.active ? 'Activo' : 'Inactivo' }}
      </span>

      <div *appHasRoleAndPermission="'Administrador'; perms: 'EDITAR'">
        <app-toggle-button-component class="align-middle" [checked]="row.active"
          (changed)="onToggleActive(row, { checked: $event })"
          [size]="20"
          [onColor]="'#388E3C'"
          [offColor]="'#9CA3AF'"
          [thumb]="'#ffffff'" />
      </div>

    </div>
  </ng-template>
</div>
