<app-generic-table
  [data]="squares$ | async"
  [columns]="columns"
  [titulo]="'GestiÃ³n de plazas comerciales'"
  [subTitulo]="'Administra las plazas comerciales del sistema'"
  [showViewButton]="false"
  [showActionsColumn]="false"
  [createButtonLabel]="'Nueva Plaza'"
  (view)="onView($event)"
  (create)="onCreate()"
  (edit)="onEdit($event)"
  (delete)="onDelete($event)">
</app-generic-table>


<ng-template #estadoTemplate let-row>
  <div class="d-inline-flex align-items-center gap-3 flex-nowrap">
    <span class="badge align-middle" [ngClass]="row.active ? 'badge-success' : 'badge-secondary'">
      {{ row.active ? 'Activo' : 'Inactivo' }}
    </span>

    <div *appHasRoleAndPermission="'Administrador'; perms: 'EDITAR'">
      <app-toggle-button-component class="align-middle" [checked]="row.active"
        (changed)="onToggleActive(row, { checked: $event })" [size]="20" [onColor]="'#16a34a'" [offColor]="'#ef4444'"
        [thumb]="'#ffffff'">
      </app-toggle-button-component>
    </div>

  </div>
</ng-template>
