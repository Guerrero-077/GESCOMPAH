/* =========================
   GLOBAL FORM ERROR STYLES
   ========================= */

/* Material Design Form Fields - Error Container Spacing */
::ng-deep .mat-mdc-form-field {
  margin-bottom: 4px !important;
}

::ng-deep .mat-mdc-form-field-subscript-wrapper {
  min-height: 16px !important;
  padding-top: 2px !important;
}

::ng-deep .mat-mdc-form-field-error-wrapper {
  min-height: 16px !important;
  overflow: visible !important;
}

::ng-deep .mat-mdc-form-field-error {
  font-size: 12px !important;
  line-height: 1.3 !important;
  color: #d32f2f !important;
  margin-top: 2px !important;
  display: block !important;
  white-space: normal !important;
  word-wrap: break-word !important;
}

/* Ensure errors don't overlap with next field */
::ng-deep .mat-mdc-form-field-hint-wrapper,
::ng-deep .mat-mdc-form-field-error-wrapper {
  position: relative !important;
  z-index: 1 !important;
}

/* Bootstrap Form Fields - Error Container Spacing */
.form-group {
  margin-bottom: 20px !important;
}

.invalid-feedback {
  display: block !important;
  font-size: 12px !important;
  line-height: 1.3 !important;
  color: #dc3545 !important;
  margin-top: 4px !important;
  min-height: 16px !important;
  white-space: normal !important;
  word-wrap: break-word !important;
}

/* Specific spacing for form containers */
.form-field-container {
  margin-bottom: 12px !important;
}

/* Grid layouts - ensure proper spacing between rows */
.row {
  margin-bottom: 8px !important;
}

.row:last-child {
  margin-bottom: 0 !important;
}

/* Two column grids - add extra spacing */
.row.two-cols .field {
  margin-bottom: 8px !important;
}

/* Stepper forms - ensure steps have proper spacing */
::ng-deep .mat-step-content {
  padding-bottom: 24px !important;
}

/* Form grid layouts */
.form-grid-2 .mat-mdc-form-field {
  margin-bottom: 8px !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  ::ng-deep .mat-mdc-form-field {
    margin-bottom: 6px !important;
  }
  
  .row.two-cols .field {
    margin-bottom: 8px !important;
  }
  
  .form-field-container {
    margin-bottom: 10px !important;
  }
}

/* Error state styling improvements */
::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid {
  margin-bottom: 8px !important;
}

::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-floating-label {
  color: #d32f2f !important;
}

::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-line-ripple::before {
  border-bottom-color: #d32f2f !important;
}

/* Multiple error messages - stack them properly */
::ng-deep .mat-mdc-form-field-error:not(:last-child) {
  margin-bottom: 2px !important;
}

/* Ensure form actions have proper spacing from fields */
.actions {
  margin-top: 20px !important;
  padding-top: 12px !important;
  border-top: 1px solid #e0e0e0;
}

/* Special handling for inline form elements */
.input-group .invalid-feedback {
  width: 100% !important;
  margin-top: 4px !important;
}

/* Prevent error text from being cut off */
::ng-deep .mat-mdc-form-field-error,
.invalid-feedback {
  overflow: visible !important;
  text-overflow: unset !important;
  white-space: normal !important;
}
